"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[7574],{67574:(e,t,r)=>{r.d(t,{f:()=>P});var n=r(52322),l=r(26642),a=r(18530),o=r(72510),i=r(12373),u=r(5914),s=r(46953),z=r(48213),G=r(17848),f=r(38182),c=r(33551),h=r(84663),g=r(96451),I=r(70769),b=r(85922),d=r(99256),m=r(80134);let p=e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{let n=(0,z.zG)(e,m.UI(e=>{let[t,r,n,l]=e;return{disableInfiniteScroll:t,feedDataFetcherParams:r,intersectionObserverRoot:n,intersectionObserverRootMarginBottom:l}})),l=(0,z.zG)(n,m.DZ(e=>{let{intersectionObserverRoot:t}=e;return t}),m.xb()),a=(0,z.zG)(n,m.UI(e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3}),m.xb()),o=(0,z.zG)(n,m.UI(e=>{let{feedDataFetcherParams:t}=e;return t.page}),m.xb()),i=(0,z.zG)(m.aj([r,l,a,o]),m.wt(e=>{let[t,r,n]=e;return(0,z.zG)(t,s.g_((0,z.a9)(m.E_),e=>(0,z.zG)(f.LO(e,{...void 0!==r?{root:r}:null,rootMargin:f.Ae({top:c.ZI,right:c.ZI,bottom:c.Ei(n),left:c.ZI})}),m.hX(f.Yu))))})),u=(0,z.zG)(n,m.UI(e=>e.disableInfiniteScroll),m.xb());return(0,z.zG)(n,m.UP(m.TS((0,z.zG)(m.aj([i,u]),m.hX(e=>{let[t,r]=e;return!1===r})),t)))}},U=e=>t=>{let r=(0,z.zG)(t,m.UI(e=>{let[t,r,n,l]=e;return{hasFetchedAllPages:t,feedDataFetcherParams:r,feedDataFetcher:n,dependencies:l}})),n=(0,z.zG)(r,m.UP(e),m.EB(e=>{let{feedDataFetcherParams:t}=e;return t.page}),m.oE(e=>{let{hasFetchedAllPages:t}=e;return!1===t}));return(0,z.zG)(n,m.Mm(r,(e,t)=>t),m.zg(e=>{let{feedDataFetcherParams:t,feedDataFetcher:r,dependencies:n}=e;return(0,z.zG)(r(t),d.nn(n),b.UI(e=>{let[t]=e;return t}),b.XD(3))}))},Z=e=>{let t=(0,g.D)(),r=U((0,I.m)(p({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),n=[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t],l=(0,I.m)(r,n);(0,h.Rd)(l)},x=e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)},D=e=>{let{lastPageFetched:t,perPage:r,total:n}=e;return t>=x({total:n,perPage:r})},j=e=>{let{lastPageFetched:t,perPage:r}=e;return{page:t+1,perPage:r}},O=e=>{let{feedState:t,feedItems:r,renderItems:i,getScrollFooterEl:s,...f}=e,[c,h]=(0,l.m)(e=>(0,z.zG)(e,u.DZ)),g=a.Yen(()=>j(t),[t]),I=a.Yen(()=>D(t),[t]);return Z({...f,feedDataFetcherParams:g,hasFetchedAllPages:I,footerRefOption$:h}),(0,n.jsxs)(a.ZCY,{children:[i({items:r,hasFetchedAllPages:I,total:t.total}),(0,n.jsx)(a.ZCY,{...(0,G.Nn)(o.gZ),ref:c}),!1===I&&s()]})},P=e=>{let{feedStateOption:t,feedItemsOption:r,getNoContentEl:l,getPlaceholderEl:a,...o}=e;return(0,z.zG)(s.gz(t,r),s.UI(e=>{let[t,r]=e;return(0,z.zG)(r,i.nI,s.g_(l,e=>(0,n.jsx)(O,{...o,feedState:t,feedItems:e})))}),s.HV(a))}}}]);