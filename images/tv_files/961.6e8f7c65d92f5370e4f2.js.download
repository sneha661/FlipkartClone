"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[961],{3526:(e,r,a)=>{a.d(r,{D_:()=>g,G_:()=>P,W:()=>y,gz:()=>x,wk:()=>F});var t=a(58212),d=a(9455),n=a(44611),s=a(33426),l=a(20448),o=a(91399),c=a(19457),i=a(17306),h=a(74525),p=a(95889),u=a(75227),I=a(44825),m=a(12373),z=a(85922),U=a(30352),T=a(46953),k=a(27410),S=a(90211),G=a(72959),b=a(48213);let f=l.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),y=(()=>{switch(d.Oz){case"development":return l.D.matchX({HomepageHeader:(0,b.a9)(307171),SayThanksCardMobile:(0,b.a9)(237077),SayThanksCardTabletUp:(0,b.a9)(237076),TopicsInFeed:s.U3({Phone:257457,[S._]:237186}),ExploreInFeed:s.U3({Phone:257456,[S._]:247889}),SearchInFeed:s.U3({Phone:257455,[S._]:241347})});case"production":return l.D.matchX({HomepageHeader:(0,b.a9)(307172),SayThanksCardMobile:(0,b.a9)(219423),SayThanksCardTabletUp:(0,b.a9)(219424),TopicsInFeed:s.U3({Phone:257453,[S._]:237209}),ExploreInFeed:s.U3({Phone:257454,[S._]:247890}),SearchInFeed:s.U3({Phone:257452,[S._]:241348})})}})(),_=e=>{let{adType:r,count:a,zoneId:t}=e;return{divName:f(r),zoneIds:m.of(t),count:a,networkId:d.HM,siteId:d.Tf,adTypes:m.of(5),properties:{}}},v=e=>(0,b.zG)(p.of(n.q9),p.ap((0,b.zG)(e,_,m.of,p.of)),p.ap(p.tD(t.T))),x=e=>{let{adType:r,count:a,zoneId:t}=e;return(0,b.zG)(v({adType:r,count:a,zoneId:t}),z.tD,z.tS(e=>z.x0(n.HM)(d.sQ,{method:"POST",headers:{[c.JU]:o.zc.JSON},body:n.D6.encode(e)})),U.QN,U.UI(e=>(0,b.zG)(e.decisions,h.P5(f(r)),T.tS(T.ij),T.UI(m.UI(e=>l.Ad.fromKevelAd({ad:m.YM(e.contents),decision:e}))))))},D=e=>i.tSV(r=>(0,b.zG)(r,i.t94(n.Sy)(e),G.EQ({True:u.Vo(()=>(0,b.zG)(r,i.d1t(r=>n.Sy.equals(r,e)))),False:(0,b.a9)([])}))),F=(e,r)=>m.hX((0,b.ls)(e=>D(e.metadata.advertiserId)(r),i.EQD(b.W8,(0,b.ls)(i.Gax(r=>(0,b.zG)(e,I.fP(n.Sy)(r))),G.ff)))),g=k.UI(T.tS(e=>(0,b.zG)(e.template,n.YS.match({"in-feed":r=>T.G(l.Ad.mkInFeedAd({...e,template:r})),[S._]:(0,b.a9)(T.YP)})))),w=n.YS.matchX({"kitchen-sink":!0,[S._]:!1}),C=n.YS.matchX({"in-feed":!0,[S._]:!1}),P=l.D.matchX({SayThanksCardMobile:w,SayThanksCardTabletUp:w,TopicsInFeed:C,HomepageHeader:(0,b.a9)(!0),ExploreInFeed:C,SearchInFeed:C})},75063:(e,r,a)=>{a.d(r,{W2:()=>A,Yo:()=>P,DU:()=>C});var t=a(52322),d=a(75654),n=a(39277),s=a(17643),l=a(9455),o=a(40824),c=a(20933),i=a(45940),h=a(85221),p=a(84177),u=a(44611),I=a(9424);let m=(0,a(60985).P1)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var z=a(33426),U=a(20448),T=a(18530),k=a(70769),S=a(17306),G=a(95889),b=a(85922),f=a(5914),y=a(46953),_=a(27410),v=a(90211),x=a(48213),D=a(52224),F=a(80134),g=a(3526);let w=(()=>{switch(l.Oz){case"development":return[[u.zi(2260292),u.zi(2260293)]];case"production":return[[u.zi(2262847),u.zi(1890533)]]}})(),C=e=>{let{adType:r,count:a}=e,t=(0,p.v)(m),d=(0,k.m)(e=>(0,x.zG)(e,F.UI(e=>{let[r]=e;return r})),[t]),n=(0,I.Fy)();return(0,k.m)(e=>{let r=(0,x.zG)(e,F.UI(e=>e[0]),F.xb(U.D.Eq.equals)),t=(0,x.zG)(e,F.UI(e=>e[1]),F.xb(y.Eh(z.Eq).equals)),n=(0,x.zG)(f.gz((0,x.zG)(r,f.u5),t),f.UI(e=>{let[r,a]=e;return(0,g.W)(r)(a)}),F.xb(y.Eh(D.Eq).equals));return(0,x.zG)(f.gz((0,x.zG)(r,f.u5),n),F.Mm(d),F.UI(e=>{let[r,a]=e;return(0,x.zG)(r,y.UI(e=>{let[r,t]=e;return(0,x.bc)(r,t,a)}))}),f.pd(e=>{let[r,t,d]=e;return(0,x.zG)(F.PQ(()=>(0,g.gz)({adType:r,count:3*a,zoneId:t})),F.bw((0,x.ls)(_.eL((0,x.a9)(G.Xc),b.JQ.match({CodecErrors:e=>{let{type:a,errors:t}=e;return(0,x.zG)((0,o.$b)({type:a,errors:(0,x.zG)(t,S.Ce7(`
Kevel response failed decoding for adType: "${U.D.Show.show(r)}"`))}),G.Ep)},[v._]:(0,x.a9)(G.Xc)}),e=>{let a=(0,x.zG)(e,y.Tw([]),S.UID(e=>e.template),S.d1t((0,g.G_)(r)));return S.OdA(a)?(0,o.Kw)({error:`Kevel response has invalid templates (${(0,x.zG)(a,S.UID(u.gA),S.v_p(", "))}) for ad type: "${U.D.Show.show(r)}"`}):G.Xc}),G.ht)),F.UI(_.UI(y.tS((0,g.wk)(d,w)))))}),F.UI(y.pF(()=>_.nn)))},[r,n])},P=e=>{let{adType:r,count:a,children:t}=e;return t((0,h.s)(C({adType:r,count:a})))},E=e=>{let{metadata:r}=e;return(0,t.jsxs)(T.PRT,{children:[(0,t.jsx)(s._,{url:r.impressionUrl}),(0,x.zG)(r.impressionTrackers,y.WA(S.Sud((e,r)=>(0,t.jsx)(s._,{url:r},e))))]})},A=e=>{let{children:r,metadata:a,adType:s}=e,l=(0,c.I)();return(0,i.b)(()=>{l(d.aU.mk.DirectAdImpression({metadata:a,adType:s}))}),(0,t.jsxs)(T.PRT,{children:[r,(0,t.jsx)(n.Z,{children:(0,t.jsx)(E,{metadata:a})})]})}},99356:(e,r,a)=>{a.d(r,{$:()=>c});var t=a(52322),d=a(75654),n=a(13328),s=a(20933),l=a(18530),o=a(23246);let c=e=>{let{metadata:r,adType:a,...c}=e,i=(0,s.I)(),h=l.I47(()=>{i(d.aU.mk.Track(o.ju.mk.DirectAdClick({metadata:r,adType:a})))},[r,a]);return(0,t.jsx)(n.r,{onClick:h,href:r.clickUrl,...c})}},85221:(e,r,a)=>{a.d(r,{s:()=>n});var t=a(93096),d=a(27410);let n=e=>(0,t.p)(e,d.nn)},61185:(e,r,a)=>{a.d(r,{$:()=>o});var t=a(33402),d=a(41615),n=a(95889),s=a(46953);let l=(0,a(48213).zG)(d.V4,n.ht,s.Gg(e=>"force_direct_ads"in e)),o=()=>(0,t.US)()&&l}}]);